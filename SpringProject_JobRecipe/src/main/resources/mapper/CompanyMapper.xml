<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jobrecipe.company.service.dao.CompanyDAO">
	
	<resultMap type="com.jobrecipe.advertisement.vo.AdvertisementVO" id="advertisementVO">
		<result column="ad_no" property="ad_no"/>
		<result column="ad_name" property="ad_name"/>
		<result column="ad_title" property="ad_title"/>
		<result column="ad_date" property="ad_date"/>
		<result column="ad_job" property="ad_job"/>
		<result column="ad_carr" property="ad_carr"/>
		<result column="ad_emp" property="ad_emp"/>
		<result column="ad_skill" property="ad_skill"/>
		<result column="ad_upmu" property="ad_upmu"/>
		<result column="ad_lien" property="ad_lien"/>
		<result column="ad_deals" property="ad_deals"/>
		<result column="ad_pro" property="ad_pro"/>
		<result column="ad_cp" property="ad_cp"/>
		<result column="ad_ect" property="ad_ect"/>
		<result column="ad_dead" property="ad_dead"/>
		<result column="ad_save" property="ad_save"/>	
	</resultMap>
	
	
	<resultMap type="com.jobrecipe.company.vo.CompanyVO" id="CompanyVO">
		<result column="c_name" property="c_name" />
		<result column="c_loc" property="c_loc"/>
		<result column="c_addr" property="c_addr"/>
		<result column="c_star" property="c_star"/>
		<collection property="advertisementVO" resultMap="advertisementVO" />
	</resultMap>
	

	
	<!-- 회사정보 -->
	<select id="cInfo" parameterType="advertisementVO" resultMap="advertisementVO"> 
		select ad_title, ad_name, ad_date, ad_job, ad_carr, ad_emp, ad_skill, ad_upmu, ad_lien, ad_deals, ad_pro, ad_ect 
	    from rec_ad a join rec_company c
		on a.ad_name = c.c_name
	    where c_name=#{c_name}
	</select>
	
	<!-- 기업정보 출력 -->
	<select id="aAllInfo" parameterType="CompanyVO" resultMap="CompanyVO">
		select ad_title, c_name, ad_date, ad_job, ad_carr, ad_emp, ad_skill, ad_upmu, ad_lien, ad_deals, ad_pro, ad_ect 
	    from rec_ad a join rec_company c
		on a.ad_name = c.c_name
	    where c_name=#{c_name}
	</select>
	
	<!--마감일순 -->
	<select id="cInfo_Date" parameterType="CompanyVO" resultMap="CompanyVO">
		select c_name,ad_title,ad_date,c_star 
		from rec_ad a join rec_company c
		on a.ad_name = c.c_name
		order by ad_date
	</select>
	
	<!-- 평점순 -->	
	<select id="cInfo_Star" parameterType="CompanyVO" resultMap="CompanyVO">
		select c_name,ad_title,ad_date,c_star from rec_ad a join rec_company c
		on a.ad_name = c.c_name
		order by c_star desc
	</select>
</mapper>